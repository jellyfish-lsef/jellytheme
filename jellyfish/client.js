const mainContainer = document.querySelector("#mainContainer");

location.hash = "#editor"
window.onhashchange = (h) => {
    let hash = location.hash;
    if (hash == "#editor") { mainContainer.style.left = "0px"; }
    if (hash == "#settings") { mainContainer.style.left = "-100vw"; }
    if (hash == "#scripts") mainContainer.style.left = "-200vw"
    document.querySelector("a.selected").classList.remove("selected");
    document.querySelector(`a[href="${hash}"]`).classList.add("selected");
};


require.config({ paths: { 'vs': '../monaco-editor/min/vs' }});
require(['vs/editor/editor.main'], function() {
    monaco.editor.defineTheme("defaultTheme", { base: "vs-dark", inherit: true, rules: [{ foreground: "5c6370", fontStyle: " italic", token: "comment" }, { foreground: "b8cae8ff", token: "keyword.operator.class" }, { foreground: "b8cae8ff", token: "constant.other" }, { foreground: "b8cae8ff", token: "source.php.embedded.line" }, { foreground: "fa6e7c", token: "variable" }, { foreground: "fa6e7c", token: "support.other.variable" }, { foreground: "fa6e7c", token: "string.other.link" }, { foreground: "fa6e7c", token: "string.regexp" }, { foreground: "fa6e7c", token: "entity.name.tag" }, { foreground: "fa6e7c", token: "entity.other.attribute-name" }, { foreground: "fa6e7c", token: "meta.tag" }, { foreground: "fa6e7c", token: "declaration.tag" }, { foreground: "eeb164ff", token: "constant.numeric" }, { foreground: "eeb164ff", token: "constant.language" }, { foreground: "eeb164ff", token: "support.constant" }, { foreground: "eeb164ff", token: "constant.character" }, { foreground: "eeb164ff", token: "variable.parameter" }, { foreground: "eeb164ff", token: "punctuation.section.embedded" }, { foreground: "eeb164ff", token: "keyword.other.unit" }, { foreground: "eee280ff", token: "entity.name.class" }, { foreground: "eee280ff", token: "entity.name.type.class" }, { foreground: "eee280ff", token: "support.type" }, { foreground: "eee280ff", token: "support.class" }, { foreground: "adee7aff", token: "string" }, { foreground: "adee7aff", token: "entity.other.inherited-class" }, { foreground: "adee7aff", token: "markup.heading" }, { foreground: "b8cae8ff", token: "constant.other.color" }, { foreground: "61cbeeff", token: "entity.name.function" }, { foreground: "61cbeeff", token: "meta.function-call" }, { foreground: "61cbeeff", token: "support.function" }, { foreground: "61cbeeff", token: "keyword.other.special-method" }, { foreground: "61cbeeff", token: "meta.block-level" }, { foreground: "ec7beeff", token: "keyword" }, { foreground: "ec7beeff", token: "storage" }, { foreground: "ec7beeff", token: "storage.type" }, { foreground: "ec7beeff", token: "entity.name.tag.css" }, { foreground: "ec7beeff", token: "keyword.operator" }, { foreground: "eeeeeeff", background: "ee7c80ff", token: "invalid" }, { foreground: "b8cae8ff", background: "6b4f4fff", token: "meta.separator" }, { foreground: "243043ff", background: "ee864dff", token: "invalid.deprecated" }, { foreground: "4fe1eeff", token: "constant.character" }, { foreground: "4fe1eeff", token: "constant.other" }], colors: { "editor.foreground": "#BFCAE0", "editor.background": "#222222", "editor.selectionBackground": "#3D4350", "editor.lineHighlightBackground": "#4C576730", "editorCursor.foreground": "#528BFF", "editorWhitespace.foreground": "#747369" } });
    monaco.editor.setTheme("defaultTheme");
    window.mainEditor = monaco.editor.create(document.getElementById("mainMonaco"), {
        value: "print(\"Welcome to Jellyfish!\")",
        language: "lua",
        automaticLayout: true
    });
    window.previewEditor = monaco.editor.create(document.getElementById("previwMonaco"), {
        value: JSON.parse(`"local config = {\\n\\t-- characters will have an animated preview, more reliable but uses more cpu\\n\\t[\\"CharacterPreview\\"] = true,\\n\\t-- if false clicking will instantly spectate that person, if true it fly the camera over\\n\\t[\\"TweenBetween\\"] = true,\\n}\\n\\n\\n\\n\\n--  // FileName: rn3_SpectationUI.lua\\n--\\t// Written by: theLMGN\\n--\\t// Description: Script for allowing users to spectate others.\\nlocal parent = game.Players.LocalPlayer.PlayerGui\\nlocal gui = Instance.new(\\"ScreenGui\\",parent)\\npcall(function()\\n\\tgui.Parent = game.CoreGui\\n\\tparent = game.CoreGui\\nend)\\nif parent:FindFirstChild(\\"radon_SpectationUI\\") then parent.radon_SpectationUI:Destroy() end\\ngui.Name = \\"radon_SpectationUI\\"\\n\\nlocal mainFrame = Instance.new(\\"ScrollingFrame\\",gui)\\nmainFrame.Size = UDim2.new(0,380,0,400)\\nmainFrame.Position = UDim2.new(0,0,1,-400)\\nmainFrame.BackgroundTransparency = 0.5\\nmainFrame.BackgroundColor3 = Color3.new(0,0,0)\\nmainFrame.BorderSizePixel = 0\\nmainFrame.ScrollBarThickness = 1\\nlocal listLayout = Instance.new(\\"UIListLayout\\",mainFrame)\\nlistLayout.FillDirection = Enum.FillDirection.Vertical\\nlistLayout.SortOrder = Enum.SortOrder.Name\\n\\nlocal attribution = Instance.new(\\"TextLabel\\", mainFrame)\\nattribution.Text = \\"scripted by theLMGN#4444\\"\\nattribution.Font = Enum.Font.SourceSans\\nattribution.TextSize = 11\\nattribution.BackgroundTransparency = 1\\nattribution.Size = UDim2.new(1,0,0,12)\\nattribution.TextColor3 = Color3.new(1,1,1)\\nattribution.Name = \\"zzzzzzzzzzzzzzzzzzzzzzzzAttribution\\"\\n\\nlocal closeBtn = Instance.new(\\"TextButton\\",gui)\\ncloseBtn.Size = UDim2.new(0,40,0,40)\\ncloseBtn.Position = UDim2.new(0,0,1,-440)\\ncloseBtn.BackgroundTransparency = 0.5\\ncloseBtn.BackgroundColor3 = Color3.new(0,0,0)\\ncloseBtn.TextColor3 = Color3.new(1,1,1)\\ncloseBtn.Text = \\"v\\"\\ncloseBtn.Name = \\"closeBtn\\"\\ncloseBtn.TextScaled = true\\n\\ncloseBtn.MouseButton1Click:Connect(function()\\n\\tif mainFrame.Position.Y.Offset == -400 then\\n\\t\\tmainFrame:TweenPosition(UDim2.new(0,0,1,0))\\n\\t\\tcloseBtn:TweenPosition(UDim2.new(0,0,1,-40))\\n\\t\\tcloseBtn.Text = \\"ðŸ“·\\"\\n\\t\\twait(1)\\n\\t\\tfor i,v in pairs(mainFrame:GetChildren()) do if v:IsA(\\"TextButton\\") then v:Destroy() end end\\n\\telseif mainFrame.Position.Y.Offset == 0 then\\n\\t\\tmainFrame:TweenPosition(UDim2.new(0,0,1,-400))\\n\\t\\tcloseBtn:TweenPosition(UDim2.new(0,0,1,-440))\\n\\t\\tcloseBtn.Text = \\"v\\"\\n\\t\\tfill()\\n\\tend\\nend)\\n\\nlocal vpc = Instance.new(\\"Camera\\") \\nvpc.CFrame =  CFrame.Angles(0, math.rad(180),0) + Vector3.new(0, 1.5, -3)\\n\\nlocal tween = false \\n\\n\\nfunction createButton(player)\\n\\tlocal btn = Instance.new(\\"TextButton\\",mainFrame)\\n\\tbtn.Size = UDim2.new(1,-80,0,40)\\n\\tbtn.BorderSizePixel = 0\\n\\tbtn.Name = player.Name\\n\\tif player.Name == game.Players.LocalPlayer.Name then\\n\\t\\tbtn.Name = \\"aaaaaaaaaaaaaaa\\"..player.Name\\n\\t\\tbtn.Size = UDim2.new(1,0,0,45)\\n\\tend\\n\\tbtn.Text = \\"    \\" .. player.Name\\n\\tbtn.TextScaled = true\\n\\tbtn.BackgroundTransparency = 0.75\\n\\tbtn.BackgroundColor3 = Color3.new(0,0,0)\\n\\tbtn.TextColor3 = Color3.new(1,1,1)\\n\\tbtn.Font = Enum.Font.Gotham\\n\\tbtn.TextXAlignment = Enum.TextXAlignment.Left\\n\\tif config[\\"CharacterPreview\\"] then\\n\\t\\tsucc = pcall(function()\\n\\t\\t\\tlocal vpf = Instance.new(\\"ViewportFrame\\",btn)\\n\\t\\t\\tvpf.BackgroundTransparency = 1\\n\\t\\t\\tvpf.Size = UDim2.new(0,40,0,40)\\n\\t\\t\\tvpf.CurrentCamera = vpc\\n\\t\\t\\tplayer.Character.Archivable = true\\n\\t\\t\\tlocal c = player.Character:Clone()\\n\\t\\t\\tc.Name = \\"\\"\\n\\t\\t\\tplayer.Character.Archivable = false\\n\\t\\t\\tlocal wm = Instance.new(\\"WorldModel\\",vpf)\\n\\t\\t\\tc.Parent = wm\\n\\t\\t\\tc.HumanoidRootPart.CFrame = CFrame.new(0,0,0)\\n\\t\\tend)\\n\\tend\\n\\tif  (not config[\\"CharacterPreview\\"]) and not succ then\\n\\t\\tlocal vpf = Instance.new(\\"ImageLabel\\",btn)\\n\\t\\tvpf.BackgroundTransparency = 1\\n\\t\\tvpf.Size = UDim2.new(0,40,0,40)\\n\\t\\tvpf.Image = \\"rbxthumb://type=AvatarHeadShot&id=\\" .. player.CharacterAppearanceId .. \\"&w=48&h=48\\"\\n\\tend\\n\\tbtn.MouseButton1Click:Connect(function()\\n\\t\\tlocal cam = game.Workspace.CurrentCamera \\n\\t\\tif config[\\"TweenBetween\\"] then\\n\\t\\t\\tlocal succe = pcall(function()\\n\\t\\t\\t\\tif tween then\\n\\t\\t\\t\\t\\ttween:Pause()\\n\\t\\t\\t\\tend\\n\\t\\t\\t\\tlocal ncframe = player.Character.HumanoidRootPart.CFrame:ToWorldSpace(cam.CFrame - cam.CameraSubject.Parent.HumanoidRootPart.Position)\\n\\t\\t\\t\\tlocal distance = (cam.CFrame.Position - ncframe.Position).Magnitude\\n\\t\\t\\t\\tprint(distance)\\n\\t\\t\\t\\tif distance < 0.001 then return end \\n\\t\\t\\t\\tcam.CameraType = Enum.CameraType.Scriptable\\n\\t\\t\\t\\ttween = game.TweenService:Create(cam,TweenInfo.new(distance / 150), {CFrame = ncframe})\\n\\t\\t\\t\\ttween:Play()\\n\\t\\t\\t\\t\\n\\t\\t\\t\\ttween.Completed:Connect(function()\\n\\t\\t\\t\\t\\tcam.CameraType = Enum.CameraType.Custom\\n\\t\\t\\t\\t\\tcam.CameraSubject = player.Character.Humanoid\\n\\t\\t\\t\\tend)\\n\\t\\t\\tend)\\n\\t\\tend\\n\\t\\tif config[\\"TweenBetween\\"] == false or succe == false then\\n\\t\\t\\tcam.CameraType = Enum.CameraType.Custom\\n\\t\\t\\tcam.CameraSubject = player.Character.Humanoid\\n\\t\\t\\treturn\\n\\t\\tend\\n\\t\\t\\n\\tend)\\n\\tif player.Name == game.Players.LocalPlayer.Name then return end \\n\\tlocal goBtn = Instance.new(\\"ImageButton\\",btn)\\n\\tgoBtn.Size = UDim2.new(0,40,0,40)\\n\\tgoBtn.Position = UDim2.new(1,0,0,0)\\n\\tgoBtn.BorderSizePixel = 0\\n\\tgoBtn.Name = \\"GoBtn\\"\\n\\tgoBtn.BackgroundTransparency = 0.75\\n\\tgoBtn.BackgroundColor3 = Color3.new(0,0,0)\\n\\tgoBtn.Image = \\"rbxassetid://3926307971\\"\\n\\tgoBtn.ScaleType = Enum.ScaleType.Stretch\\n\\tgoBtn.ImageRectOffset = Vector2.new(924,4)\\n\\tgoBtn.ImageRectSize = Vector2.new(36,36)\\n\\tgoBtn.MouseButton1Click:Connect(function()\\n\\t\\tgame.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame\\n\\tend)\\n\\n\\tlocal lKick = Instance.new(\\"ImageButton\\",btn)\\n\\tlKick.Size = UDim2.new(0,40,0,40)\\n\\tlKick.Position = UDim2.new(1,40,0,0)\\n\\tlKick.BorderSizePixel = 0\\n\\tlKick.Name = \\"lKick\\"\\n\\tlKick.BackgroundTransparency = 0.75\\n\\tlKick.BackgroundColor3 = Color3.new(0,0,0)\\n\\tlKick.Image = \\"rbxassetid://3926305904\\"\\n\\tlKick.ScaleType = Enum.ScaleType.Stretch\\n\\tlKick.ImageRectOffset = Vector2.new(284,4)\\n\\tlKick.ImageRectSize = Vector2.new(24,24)\\n\\tlKick.MouseButton1Click:Connect(function()\\n\\t\\tlocal function callback(text)\\n\\t\\t\\tplayer:Destroy()\\n\\t\\t\\tplayer.Character:Destroy()\\n\\t\\tend\\n\\t\\tlocal bindableFunction = Instance.new(\\"BindableFunction\\")\\n\\t\\tbindableFunction.OnInvoke = callback\\n\\t\\t\\n\\t\\tgame.StarterGui:SetCore(\\"SendNotification\\", {\\n\\t\\t\\tTitle = \\"Are you sure?\\";\\n\\t\\t\\tText = \\"Remove \\" ..player.Name..\\" from the player list? This only removes from player list and this can't be undone.\\"; \\n\\t\\t\\tCallback = bindableFunction;\\n\\t\\t\\tButton1 = \\"Yes!\\";\\n\\t\\t})\\n\\tend)\\nend\\n\\nfunction fill()\\n\\tfor i,v in pairs(mainFrame:GetChildren()) do if v:IsA(\\"TextButton\\") then v:Destroy() end end\\n\\tfor i,v in pairs(game.Players:GetPlayers()) do\\n\\t\\tcreateButton(v)\\n\\tend\\n\\t\\nend\\nwait(1)\\n\\nfill()\\ngame.Players.PlayerAdded:Connect(fill)\\ngame.Players.PlayerRemoving:Connect(function()\\n\\tlocal cam = game.Workspace.CurrentCamera \\n\\tcam.CameraType = Enum.CameraType.Custom\\n\\tcam.CameraSubject = game.Players.LocalPlayer.Character.Humanoid\\n\\tfill()\\nend)\\n"`),
        language: "lua",
        automaticLayout: true
    });
});

